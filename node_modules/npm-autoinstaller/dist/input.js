'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.askForInstall = undefined;

var _readlineSync = require('readline-sync');

var _readlineSync2 = _interopRequireDefault(_readlineSync);

var _log = require('./log');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * ask for install
 *
 * @desc    ask the user if he wants to install new packages
 * @param   {boolean} recursive - if it should recursively ask the user for an answer if it was invalid (optional)
 * @return  {boolean}
 */
var askForInstall = exports.askForInstall = function askForInstall() {
  var recursive = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

  var response = _readlineSync2.default.question(_log.prefix.gray + ' > (Y/n) ');

  if (response === '' || response.toLowerCase() === 'y' || response.toLowerCase() === 'yes') {
    return true;
  } else if (response.toLowerCase() === 'n' || response.toLowerCase() === 'no') {
    return false;
  }

  (0, _log.info)('invalid input');

  if (recursive) {
    return askForInstall();
  } else {
    throw new Error('invalid answer');
  }
};